
### **移动端性能测试文档**

**文件状态：** `[ √ ] 草稿 [ ] 正在发布 [ ] 发布修改`

**文档编号：** `PTD-APP-[项目名称]-[版本号]`

**当前版本：** `V1.0`

**发布日期：** `YYYY-MM-DD`

---

#### **1. 文档概述**

**1.1 测试目的**

本文档旨在明确使用 PerfDog 和 GT 对 `[APP名称]`的 `[版本号]`版本进行性能测试的流程、方法、指标和标准。通过定量分析，评估应用在目标移动设备上的性能表现，发现潜在的性能瓶颈，为优化提供数据支撑，确保最终用户获得流畅、稳定的体验。

**1.2 测试范围**

* **•测试对象：** `[APP名称]`Android / iOS `[版本号]`安装包 (APK/IPA)
* **•测试设备：** `[列举具体测试设备型号、OS版本，如：小米13 Pro (Android 14), iPhone 15 Pro Max (iOS 17)]`
* **•测试工具：** PerfDog（腾讯）、GT（腾讯开源）

**1.3 术语定义**

* **•FPS：** 帧率，每秒渲染的帧数，衡量流畅度。
* **•Jank：** 卡顿次数，计算出的严重帧下降次数。
* **•CPU Usage：** CPU占用率，应用对处理器资源的消耗。
* **•Memory：** 内存占用，通常指PSS内存，应用占用的物理内存。
* **•GPU Usage：** GPU占用率（仅PerfDog支持）。
* **•Network：** 网络流量，上行/下行数据量。
* **•GT：** 一款免Root的Android性能监测工具，可集成于APP内。

---

#### **2. 测试策略**

**2.1 工具选择与分工**

* **•PerfDog (首选)：**

  * **•平台:** 支持Android和iOS。
  * **•优势:** 无需植入代码、无需Root/越狱、功能全面、数据精准、云端分析。适用于**深度、定点的性能分析**和**竞品对比**。
  * **•场景:** 用于所有核心测试场景的性能数据采集。
* **•GT (辅助)：**

  * **•平台:** 主要支持Android。
  * **•优势:** 可打包集成到被测应用中，实现**长时间、无人值守**的性能监控（如Monkey测试、后台挂机测试）。
  * **•场景:** 用于稳定性测试、压力测试期间的性能数据记录。

**2.2 测试环境**

* **•网络环境：** `[如：实验室Wi-Fi (5GHz/稳定)、4G/5G移动网络]`
* **•环境设置：** 屏幕亮度调整为50%，音量调整为30%，清除后台其他应用。

---

#### **3. 性能指标与合格标准**

| **性能指标**  | **采集工具** | **合格标准 (示例，需根据项目定)**                                | **备注**        |
| ------------------- | ------------------ | ---------------------------------------------------------------------- | --------------------- |
| **帧率 FPS**  | PerfDog, GT        | **≥ 55 FPS** (游戏/高刷场景) / **≥ 58 FPS** (UI列表滑动) | 平均值，波动需平稳    |
| **卡顿 Jank** | PerfDog            | **≤ 10次/10分钟**                                               | /                     |
| **CPU占用率** | PerfDog, GT        | **≤ 30%** (主流机型)                                            | 核心场景峰值不超过50% |
| **内存占用**  | PerfDog, GT        | **≤ 400 MB** (初始) / **增长 ≤ 50 MB** (长时间运行)      | 关注峰值和泄漏趋势    |
| **GPU占用率** | PerfDog            | **≤ 40%**                                                       | /                     |
| **网络流量**  | PerfDog, GT        | 无异常飙升，单操作消耗符合预期                                         | /                     |
| **启动时间**  | PerfDog            | **冷启动 ≤ 1.5s** / **热启动 ≤ 0.8s**                    | 从点击到首帧完全渲染  |
| **耗电量**    | PerfDog            | **≤ 5 mAh/10分钟** (中高性能模式)                               | 需在固定环境下对比    |

---

#### **4. 测试场景与用例**

| **场景编号** | **测试场景**        | **操作步骤**                                    | **监控指标**               | **持续时间** |
| ------------------ | ------------------------- | ----------------------------------------------------- | -------------------------------- | ------------------ |
| PT-001             | **冷启动**          | 1. 杀后台``2. 点击图标启动                     | 启动时间, CPU, Memory            | 记录单次           |
| PT-002             | **核心功能路径**    | 1. 执行 `[例如：首页->搜索->商品详情->下单]`        | FPS, Jank, CPU, Memory, Network  | ≥ 5分钟           |
| PT-003             | **列表快速滑动**    | 1. 进入列表页``2. 以固定速度快速上下滑动       | FPS, Jank (重点)                 | 2分钟              |
| PT-004             | **游戏战斗场景**    | 1. 进入对战``2. 释放技能、移动                 | FPS, Jank, CPU, GPU, Memory      | 5分钟              |
| PT-005             | **后台挂机/稳定性** | 1. 切入后台``2. 静置30分钟``3. 重新唤醒 | Memory (泄漏), CPU, Network (GT) | 30分钟             |
| PT-006             | **网络切换场景**    | 1. 在操作中切换Wi-Fi/4G/5G                            | FPS, Jank, Network               | 3分钟              |

---

#### **5. 测试执行流程**

**5.1 使用 PerfDog 测试**

1. **1.准备:** 在PC上安装PerfDog客户端，手机通过USB连接电脑并开启USB调试（Android）/ 信任此电脑（iOS）。
2. **2.选择进程:** 在PerfDog中选择被测应用进程。
3. **3.开始录制:** 点击“开始”按钮，然后按测试用例执行操作。
4. **4.结束录制:** 操作完成后点击“结束”，数据会自动上传至云端。
5. **5.分析:** 在云端查看详细图表，添加注释标记关键操作点，导出报告。

**5.2 使用 GT 测试 (Android)**

1. **1.集成/安装:** 将GT集成到被测APK中，或直接安装GT工具和被测应用。
2. **2.配置:** 打开GT，选择被测应用，勾选需要监控的性能指标（CPU、MEM、FPS等）。
3. **3.开始录制:** 点击“启动测试”，GT会开始记录数据。
4. **4.执行操作:** 可手动操作，或运行Monkey等自动化脚本：`adb shell monkey -p your.package.name --throttle 500 -v 10000`
5. **5.停止与查看:** 操作完成后，在GT中停止录制。数据会保存在手机 `sdcard/GT/GW/`目录下，可导出到电脑分析。

---

#### **6. 缺陷管理与报告**

**6.1 缺陷定义**

任何性能指标数据**持续地、可复现地**超出“合格标准”即视为一个性能缺陷。

**6.2 报告模板**

在JIRA/TAPD等项目管理系统中，性能缺陷应包含以下信息：

* **•标题:** 【性能】[场景名称]下[指标名称]异常，[具体现象]
* **•环境:** 设备型号、OS版本、网络、APP版本
* **•步骤:** 详细复现步骤
* **•预期结果:** 符合第3章节定义的合格标准
* **•实际结果:** **附上PerfDog/GT的详细数据截图或报告链接**
* **•Log/数据:** 提供测试数据的原始文件（.csv或云端链接）
* **•严重等级:** Major/Critical

---

#### **7. 测试输出物**

1. **1.《性能测试报告》:** 包含所有测试场景的数据汇总、图表、分析与结论。
2. **2.原始数据文件:** PerfDog云端报告链接、GT导出的.csv数据文件。
3. **3.性能缺陷列表:** 在项目管理系统中创建的Bug列表。
